<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="icon.png" type="image/x-icon">
  <title>Gourav: Assignment 3 and 4</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <div class="banner">
      <h1>US Dollar to Canadian Dollar <span id="title__dot">.</span></h1>
      <p>Convert USD to CAD at the real exchange rate</p>
    </div>
  </header>
  <main class="main">
    <div class="money-component">
      <div class="money-item">
        <p>Amount</p>
        <input id="firstMoney" type="number" onchange="firstMoneyChanged(this)" >
      </div>
      <div class="money-currency">
        <select id="firstMoneySelect">
          <option value="USD" selected>ðŸ‡ºðŸ‡¸&nbsp;USD</option>
          <option value="CAD">ðŸ‡¨ðŸ‡¦&nbsp;CAD</option>
        </select>
      </div>
    </div>
    <div class="icon-div">
      <img src="icon.png">
    </div>
    <div class="money-component">
      <div class="money-item">
        <p>Convert To</p>
        <input id="secondMoney" readonly>
      </div>
      <div class="money-currency">
        <select id="secondMoneySelect">
          <option value="CAD" selected>ðŸ‡¨ðŸ‡¦&nbsp;CAD</option>
          <option value="USD">ðŸ‡ºðŸ‡¸&nbsp;USD</option>
        </select>
      </div>
    </div>
  </main>
  <div class="button-wrapper">
    <button onclick="convertMoney()" id="convertButton">Convert</button>
  </div>
  <script>
    const firstMoneyInput = document.getElementById("firstMoney");
    const firstMoneySelect = document.getElementById("firstMoneySelect");
    const secondMoneyInput = document.getElementById("secondMoney");
    const secondMoneySelect = document.getElementById("secondMoneySelect");

    function convertToCad(usd) {
      return (usd * 1.33).toFixed(3);
    }

    function convertToUSD(cad) {
      return (cad / 1.33).toFixed(3);
    }


    function convertMoney() {
      if (!firstMoneyInput.value) {
        alert("Please provide the amount to convert!!!");
      }
      else {
        const firstMoneyType = firstMoneySelect.value;
        const secondMoneyType = secondMoneySelect.value;
        if (firstMoneyType === secondMoneyType) {
          secondMoneyInput.value = firstMoneyInput.value;
        }
        else {
          if (secondMoneyType === "USD") {
            secondMoneyInput.value = convertToUSD(parseFloat(firstMoneyInput.value))
          }
          else {
            secondMoneyInput.value = convertToCad(parseFloat(firstMoneyInput.value))
          }
        }
      }
    }

    function firstMoneyChanged(element) {
      if (!element.value) {
        element.style.borderColor = "red";
      }
      else {
        element.style.borderColor = "grey";
      }
    }
  </script>
</body>

</html>